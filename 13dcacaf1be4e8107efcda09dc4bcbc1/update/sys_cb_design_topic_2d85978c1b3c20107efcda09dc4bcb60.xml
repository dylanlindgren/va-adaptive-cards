<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="Adaptive Cards Example Topic">2585978c1b3c20107efcda09dc4bcb5e</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"7c2c4a1e353e409bab147c8ab04733b2","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"7c2c4a1e353e409bab147c8ab04733b2"}],"goals":[{"name":"primary","trigger_id":"7c2c4a1e353e409bab147c8ab04733b2","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":""},"id":"38dbb27919e849fdb70045629f715208","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"6d95b082b8a14b5bb882d4e5c0763b41","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"ec1a4d5391f44efdb11b23904c94665e","name":"Card selection","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"680dabfeb9394d35b48832c60f6ceb55","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"What would you like to find out about?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"Flight","expression":{"type":"Applicability","mode":"query","value":"card_selection=flight"},"id":"e410b216ba864210a10322f44d6b7f48","name":"Flight"},{"type":"Branch","label":"Weather","expression":{"type":"Applicability","mode":"query","value":"card_selection=weather"},"id":"3fa493f4715d49219d6ce9efa3d7a634","name":"Weather"},{"type":"Branch","label":"Stock","expression":{"type":"Applicability","mode":"query","value":"card_selection=stock"},"id":"d01a6e93b0b342e6b18f3404c06ee374","name":"Stock"}],"id":"b6bae3ac06d243da852ffd18385349e8","goal_id":"primary"},{"type":"LibraryCall","library_topic_name":"Adaptive Card","library_topic_id":"a7979d6b1b68e8107efcda09dc4bcb18","parameter-mappings":[{"parameter-name":"card_data","value":{"type":"String","mode":"script","value":"(function execute() {\n    return JSON.stringify({\n        \"@context\": \"http://schema.org\",\n        \"@type\": \"FlightReservation\",\n        \"reservationId\": \"RXJ34P\",\n        \"reservationStatus\": \"http://schema.org/ReservationConfirmed\",\n        \"passengerPriorityStatus\": \"Fast Track\",\n        \"passengerSequenceNumber\": \"ABC123\",\n        \"securityScreening\": \"TSA PreCheck\",\n        \"underName\": {\n            \"@type\": \"Person\",\n            \"name\": \"Sarah Hum\"\n        },\n        \"reservationFor\": {\n            \"@type\": \"Flight\",\n            \"flightNumber\": \"KL605\",\n            \"provider\": {\n                \"@type\": \"Airline\",\n                \"name\": \"KLM\",\n                \"iataCode\": \"KL\",\n                \"boardingPolicy\": \"http://schema.org/ZoneBoardingPolicy\"\n            },\n            \"seller\": {\n                \"@type\": \"Airline\",\n                \"name\": \"KLM\",\n                \"iataCode\": \"KL\"\n            },\n            \"departureAirport\": {\n                \"@type\": \"Airport\",\n                \"name\": \"Amsterdam Airport\",\n                \"iataCode\": \"AMS\"\n            },\n            \"departureTime\": \"2017-03-04T09:20:00-01:00\",\n            \"arrivalAirport\": {\n                \"@type\": \"Airport\",\n                \"name\": \"San Francisco Airport\",\n                \"iataCode\": \"SFO\"\n            },\n            \"arrivalTime\": \"2017-03-05T08:20:00+04:00\"\n        }\n    });\n})();"}},{"parameter-name":"card_template","value":{"type":"String","mode":"script","value":"(function execute() {\n    return JSON.stringify({\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n        \"type\": \"AdaptiveCard\",\n        \"version\": \"1.0\",\n        \"speak\": \"Flight KL0605 to San Fransisco has been delayed.It will not leave until 10:10 AM.\",\n        \"body\": [{\n                \"type\": \"ColumnSet\",\n                \"columns\": [{\n                        \"type\": \"Column\",\n                        \"width\": \"auto\",\n                        \"items\": [{\n                            \"type\": \"Image\",\n                            \"size\": \"Small\",\n                            \"url\": \"https://adaptivecards.io/content/airplane.png\"\n                        }]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": \"stretch\",\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Flight Status\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"isSubtle\": true,\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"DELAYED\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"spacing\": \"None\",\n                                \"size\": \"Large\",\n                                \"color\": \"Attention\",\n                                \"wrap\": true\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"type\": \"ColumnSet\",\n                \"separator\": true,\n                \"spacing\": \"Medium\",\n                \"columns\": [{\n                        \"type\": \"Column\",\n                        \"width\": \"stretch\",\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Passengers\",\n                                \"isSubtle\": true,\n                                \"weight\": \"Bolder\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${underName.name}\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Jeremy Goldberg\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Evan Litvak\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": \"auto\",\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Seat\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"isSubtle\": true,\n                                \"weight\": \"Bolder\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"14A\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"14B\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"14C\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"type\": \"ColumnSet\",\n                \"spacing\": \"Medium\",\n                \"separator\": true,\n                \"columns\": [{\n                        \"type\": \"Column\",\n                        \"width\": 1,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Flight\",\n                                \"isSubtle\": true,\n                                \"weight\": \"Bolder\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${reservationFor.flightNumber}\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": 1,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Departs\",\n                                \"isSubtle\": true,\n                                \"horizontalAlignment\": \"Center\",\n                                \"weight\": \"Bolder\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"{{TIME(${string(reservationFor.departureTime)})}}\",\n                                \"color\": \"Attention\",\n                                \"weight\": \"Bolder\",\n                                \"horizontalAlignment\": \"Center\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": 1,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Arrives\",\n                                \"isSubtle\": true,\n                                \"horizontalAlignment\": \"Right\",\n                                \"weight\": \"Bolder\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"{{TIME(${string(reservationFor.arrivalTime)})}}\",\n                                \"color\": \"Attention\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"weight\": \"Bolder\",\n                                \"spacing\": \"Small\",\n                                \"wrap\": true\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"type\": \"ColumnSet\",\n                \"spacing\": \"Medium\",\n                \"separator\": true,\n                \"columns\": [{\n                        \"type\": \"Column\",\n                        \"width\": 1,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${reservationFor.departureAirport.name}\",\n                                \"isSubtle\": true,\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${reservationFor.departureAirport.iataCode}\",\n                                \"size\": \"ExtraLarge\",\n                                \"color\": \"Accent\",\n                                \"spacing\": \"None\",\n                                \"wrap\": true\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": \"auto\",\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \" \",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"Image\",\n                                \"url\": \"https://adaptivecards.io/content/airplane.png\",\n                                \"size\": \"Small\"\n                            }\n                        ]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": 1,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${reservationFor.arrivalAirport.name}\",\n                                \"isSubtle\": true,\n                                \"horizontalAlignment\": \"Right\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${reservationFor.arrivalAirport.iataCode}\",\n                                \"horizontalAlignment\": \"Right\",\n                                \"size\": \"ExtraLarge\",\n                                \"color\": \"Accent\",\n                                \"spacing\": \"None\",\n                                \"wrap\": true\n                            }\n                        ]\n                    }\n                ]\n            }\n        ]\n    });\n})();"}}],"return-value-mappings":[],"id":"fd8624bab24249a38041af56a061060d","name":"Flight details","goal_id":"primary"},{"type":"LibraryCall","library_topic_name":"Adaptive Card","library_topic_id":"a7979d6b1b68e8107efcda09dc4bcb18","parameter-mappings":[{"parameter-name":"card_data","value":{"type":"String","mode":"script","value":"(function execute() {\n    return JSON.stringify({\n        \"data\": [{\n                \"moonrise_ts\": 1572993161,\n                \"wind_cdir\": \"SSE\",\n                \"rh\": 90,\n                \"pres\": 1012.95,\n                \"high_temp\": 8.6,\n                \"sunset_ts\": 1573001147,\n                \"ozone\": 252.181,\n                \"moon_phase\": 0.768526,\n                \"wind_gust_spd\": 4.4,\n                \"snow_depth\": 0,\n                \"clouds\": 70,\n                \"ts\": 1572940860,\n                \"sunrise_ts\": 1572966051,\n                \"app_min_temp\": 3.7,\n                \"wind_spd\": 1.33298,\n                \"pop\": 25,\n                \"wind_cdir_full\": \"south-southeast\",\n                \"slp\": 1021.94,\n                \"valid_date\": \"2019-11-05\",\n                \"app_max_temp\": 10.2,\n                \"vis\": 22.5692,\n                \"dewpt\": 6.8,\n                \"snow\": 0,\n                \"uv\": 1.74992,\n                \"weather\": {\n                    \"icon\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Square.png\",\n                    \"code\": 803,\n                    \"description\": \"Broken clouds\"\n                },\n                \"wind_dir\": 162,\n                \"max_dhi\": null,\n                \"clouds_hi\": 0,\n                \"precip\": 0.3125,\n                \"low_temp\": 7.7,\n                \"max_temp\": 10.4,\n                \"moonset_ts\": 1572946958,\n                \"datetime\": \"2019-11-05\",\n                \"temp\": 8.5,\n                \"min_temp\": 5.7,\n                \"clouds_mid\": 0,\n                \"clouds_low\": 70\n            },\n            {\n                \"moonrise_ts\": 1573081007,\n                \"wind_cdir\": \"NNE\",\n                \"rh\": 88,\n                \"pres\": 1015.48,\n                \"high_temp\": 12.3,\n                \"sunset_ts\": 1573087463,\n                \"ozone\": 263.048,\n                \"moon_phase\": 0.845631,\n                \"wind_gust_spd\": 5,\n                \"snow_depth\": 0,\n                \"clouds\": 60,\n                \"ts\": 1573027260,\n                \"sunrise_ts\": 1573052542,\n                \"app_min_temp\": 3.3,\n                \"wind_spd\": 1.50821,\n                \"pop\": 35,\n                \"wind_cdir_full\": \"north-northeast\",\n                \"slp\": 1024.5,\n                \"valid_date\": \"2019-11-06\",\n                \"app_max_temp\": 12.3,\n                \"vis\": 23.125,\n                \"dewpt\": 6.6,\n                \"snow\": 0,\n                \"uv\": 2.93193,\n                \"weather\": {\n                    \"icon\": \"https://messagecardplayground.azurewebsites.net/assets/Drizzle-Square.png\",\n                    \"code\": 803,\n                    \"description\": \"Broken clouds\"\n                },\n                \"wind_dir\": 18,\n                \"max_dhi\": null,\n                \"clouds_hi\": 17,\n                \"precip\": 0.5,\n                \"low_temp\": 5,\n                \"max_temp\": 12.3,\n                \"moonset_ts\": 1573037127,\n                \"datetime\": \"2019-11-06\",\n                \"temp\": 8.5,\n                \"min_temp\": 6.6,\n                \"clouds_mid\": 9,\n                \"clouds_low\": 46\n            },\n            {\n                \"moonrise_ts\": 1573168702,\n                \"wind_cdir\": \"SE\",\n                \"rh\": 71,\n                \"pres\": 1006.39,\n                \"high_temp\": 13.1,\n                \"sunset_ts\": 1573173781,\n                \"ozone\": 257.617,\n                \"moon_phase\": 0.909923,\n                \"wind_gust_spd\": 1.80495,\n                \"snow_depth\": 0,\n                \"clouds\": 94,\n                \"ts\": 1573113660,\n                \"sunrise_ts\": 1573139032,\n                \"app_min_temp\": 0.5,\n                \"wind_spd\": 0.77653,\n                \"pop\": 0,\n                \"wind_cdir_full\": \"southeast\",\n                \"slp\": 1022.86,\n                \"valid_date\": \"2019-11-07\",\n                \"app_max_temp\": 13.1,\n                \"vis\": 24.135,\n                \"dewpt\": 2.6,\n                \"snow\": 0,\n                \"uv\": 1.10983,\n                \"weather\": {\n                    \"icon\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Square.png\",\n                    \"code\": 804,\n                    \"description\": \"Overcast clouds\"\n                },\n                \"wind_dir\": 136,\n                \"max_dhi\": null,\n                \"clouds_hi\": 94,\n                \"precip\": 0,\n                \"low_temp\": 4.4,\n                \"max_temp\": 13.4,\n                \"moonset_ts\": 1573127315,\n                \"datetime\": \"2019-11-07\",\n                \"temp\": 7.7,\n                \"min_temp\": 4.2,\n                \"clouds_mid\": 0,\n                \"clouds_low\": 0\n            },\n            {\n                \"moonrise_ts\": 1573256318,\n                \"wind_cdir\": \"SSE\",\n                \"rh\": 71,\n                \"pres\": 1006.02,\n                \"high_temp\": 15.8,\n                \"sunset_ts\": 1573260100,\n                \"ozone\": 258.722,\n                \"moon_phase\": 0.958606,\n                \"wind_gust_spd\": 2.11071,\n                \"snow_depth\": 0,\n                \"clouds\": 93,\n                \"ts\": 1573200060,\n                \"sunrise_ts\": 1573225523,\n                \"app_min_temp\": 2.7,\n                \"wind_spd\": 0.802894,\n                \"pop\": 0,\n                \"wind_cdir_full\": \"south-southeast\",\n                \"slp\": 1022.2,\n                \"valid_date\": \"2019-11-08\",\n                \"app_max_temp\": 15.8,\n                \"vis\": 24.1349,\n                \"dewpt\": 4.5,\n                \"snow\": 0,\n                \"uv\": 0.989995,\n                \"weather\": {\n                    \"icon\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Square.png\",\n                    \"code\": 804,\n                    \"description\": \"Overcast clouds\"\n                },\n                \"wind_dir\": 167,\n                \"max_dhi\": null,\n                \"clouds_hi\": 93,\n                \"precip\": 0,\n                \"low_temp\": 6.1,\n                \"max_temp\": 15.9,\n                \"moonset_ts\": 1573217557,\n                \"datetime\": \"2019-11-08\",\n                \"temp\": 9.6,\n                \"min_temp\": 6,\n                \"clouds_mid\": 6,\n                \"clouds_low\": 0\n            },\n            {\n                \"moonrise_ts\": 1573343920,\n                \"wind_cdir\": \"SW\",\n                \"rh\": 78,\n                \"pres\": 1008.56,\n                \"high_temp\": 14,\n                \"sunset_ts\": 1573346422,\n                \"ozone\": 257.936,\n                \"moon_phase\": 0.988998,\n                \"wind_gust_spd\": 3.61965,\n                \"snow_depth\": 0,\n                \"clouds\": 88,\n                \"ts\": 1573286460,\n                \"sunrise_ts\": 1573312013,\n                \"app_min_temp\": 2.5,\n                \"wind_spd\": 1.00688,\n                \"pop\": 0,\n                \"wind_cdir_full\": \"southwest\",\n                \"slp\": 1024.28,\n                \"valid_date\": \"2019-11-09\",\n                \"app_max_temp\": 14,\n                \"vis\": 24.135,\n                \"dewpt\": 5.2,\n                \"snow\": 0,\n                \"uv\": 1.06772,\n                \"weather\": {\n                    \"icon\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Square.png\",\n                    \"code\": 804,\n                    \"description\": \"Overcast clouds\"\n                },\n\n                \"wind_dir\": 228,\n                \"max_dhi\": null,\n                \"clouds_hi\": 88,\n                \"precip\": 0,\n                \"low_temp\": 5,\n                \"max_temp\": 14.1,\n                \"moonset_ts\": 1573307883,\n                \"datetime\": \"2019-11-09\",\n                \"temp\": 9,\n                \"min_temp\": 5.9,\n                \"clouds_mid\": 13,\n                \"clouds_low\": 0\n            }\n        ],\n        \"city_name\": \"King\",\n        \"lon\": \"-122.1232\",\n        \"timezone\": \"America/Los_Angeles\",\n        \"lat\": \"47.6718\",\n        \"country_code\": \"US\",\n        \"state_code\": \"WA\"\n    });\n})();"}},{"parameter-name":"card_template","value":{"type":"String","mode":"script","value":"(function execute() {\n    return JSON.stringify({\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n        \"type\": \"AdaptiveCard\",\n        \"version\": \"1.0\",\n        \"speak\": \"Weather forecast for ${formatEpoch(data[0].sunrise_ts, 'dddd')} is high of ${formatNumber(data[0].app_max_temp / 5 * 9 + 32, 0)} and low of ${formatNumber(data[0].app_min_temp / 5 * 9 + 32, 0)} degrees with a ${formatNumber(data[0].precip * 100, 0)}% chance of rainWinds will be ${formatNumber(data[0].wind_gust_spd, 0)} mph from the ${data[0].wind_cdir}\",\n        \"backgroundImage\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Background.jpg\",\n        \"body\": [{\n                \"type\": \"ColumnSet\",\n                \"columns\": [{\n                        \"type\": \"Column\",\n                        \"width\": 35,\n                        \"items\": [{\n                            \"type\": \"Image\",\n                            \"url\": \"https://messagecardplayground.azurewebsites.net/assets/Mostly%20Cloudy-Square.png\",\n                            \"size\": \"Stretch\"\n                        }]\n                    },\n                    {\n                        \"type\": \"Column\",\n                        \"width\": 65,\n                        \"items\": [{\n                                \"type\": \"TextBlock\",\n                                \"text\": \"{{DATE(${formatEpoch(data[0].sunrise_ts, 'yyyy-MM-ddTHH:mm:ssZ')}, SHORT)}}\",\n                                \"weight\": \"Bolder\",\n                                \"size\": \"Large\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${formatNumber(data[0].app_min_temp / 5 * 9 + 32, 0)} / ${formatNumber(data[0].app_max_temp / 5 * 9 + 32, 0)}\",\n                                \"size\": \"Medium\",\n                                \"spacing\": \"None\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"${formatNumber(data[0].precip * 100, 0)}% chance of rain\",\n                                \"spacing\": \"None\",\n                                \"wrap\": true\n                            },\n                            {\n                                \"type\": \"TextBlock\",\n                                \"text\": \"Winds ${data[0].wind_gust_spd} mph ${data[0].wind_cdir}\",\n                                \"spacing\": \"None\",\n                                \"wrap\": true\n                            }\n                        ]\n                    }\n                ]\n            },\n            {\n                \"type\": \"ColumnSet\",\n                \"columns\": [{\n                    \"$data\": \"${data}\",\n                    \"$when\": \"${$index != 0}\",\n                    \"type\": \"Column\",\n                    \"width\": 20,\n                    \"items\": [{\n                            \"type\": \"TextBlock\",\n                            \"horizontalAlignment\": \"Center\",\n                            \"text\": \"${formatEpoch(sunrise_ts, 'dddd')}\",\n                            \"wrap\": true\n                        },\n                        {\n                            \"type\": \"Image\",\n                            \"size\": \"auto\",\n                            \"url\": \"${weather.icon}\"\n                        },\n                        {\n                            \"type\": \"FactSet\",\n                            \"horizontalAlignment\": \"Right\",\n                            \"facts\": [{\n                                    \"title\": \"High\",\n                                    \"value\": \"${formatNumber(app_max_temp / 5 * 9  + 32, 0)}\"\n                                },\n                                {\n                                    \"title\": \"Low\",\n                                    \"value\": \"${formatNumber(app_min_temp / 5 * 9  + 32, 0)}\"\n                                }\n                            ]\n                        }\n                    ],\n                    \"selectAction\": {\n                        \"type\": \"Action.OpenUrl\",\n                        \"title\": \"View ${formatEpoch(sunrise_ts, 'dddd')}\",\n                        \"url\": \"https://www.microsoft.com\"\n                    }\n                }]\n            }\n        ]\n    });\n})();"}}],"return-value-mappings":[],"id":"d5264536eb0c4924b5e2ea0f1503e108","name":"Weather details","goal_id":"primary"},{"type":"LibraryCall","library_topic_name":"Adaptive Card","library_topic_id":"a7979d6b1b68e8107efcda09dc4bcb18","parameter-mappings":[{"parameter-name":"card_data","value":{"type":"String","mode":"script","value":"(function execute() {\n\n\n\n    var restMessage = new sn_ws.RESTMessageV2();\n    restMessage.setHttpMethod(\"get\");\n    restMessage.setEndpoint(\"https://duckduckgo.com/js/spice/stocks/NOW\");\n    var responseBody = restMessage.execute().getBody();\nresponseBody = responseBody.substring(18, responseBody.length - 3);\n\ngs.info(responseBody);\n\n\n    return JSON.stringify({\n        \"symbol\": \"MSFT\",\n        \"companyName\": \"Microsoft Corporation\",\n        \"primaryExchange\": \"Nasdaq Global Select\",\n        \"sector\": \"Technology\",\n        \"calculationPrice\": \"close\",\n        \"open\": 127.42,\n        \"openTime\": 1556890200,\n        \"close\": 128.9,\n        \"closeTime\": 1556913600,\n        \"high\": 129.43,\n        \"low\": 127.25,\n        \"latestPrice\": 128.9,\n        \"latestSource\": \"Close\",\n        \"latestTime\": \"May 3, 2019\",\n        \"latestUpdate\": 1556913600,\n        \"latestVolume\": 24835154,\n        \"iexRealtimePrice\": null,\n        \"iexRealtimeSize\": null,\n        \"iexLastUpdated\": null,\n        \"delayedPrice\": 128.9,\n        \"delayedPriceTime\": 1556913600,\n        \"extendedPrice\": 129.04,\n        \"extendedChange\": 0.14,\n        \"extendedChangePercent\": 0.00109,\n        \"extendedPriceTime\": 1556917190,\n        \"previousClose\": 126.21,\n        \"change\": 2.69,\n        \"changePercent\": 0.02131,\n        \"iexMarketPercent\": null,\n        \"iexVolume\": null,\n        \"avgTotalVolume\": 22183270,\n        \"iexBidPrice\": null,\n        \"iexBidSize\": null,\n        \"iexAskPrice\": null,\n        \"iexAskSize\": null,\n        \"marketCap\": 987737229888,\n        \"peRatio\": 30.84,\n        \"week52High\": 131.37,\n        \"week52Low\": 93.96,\n        \"ytdChange\": 0.30147812013916003\n    });\n})();"}},{"parameter-name":"card_template","value":{"type":"String","mode":"script","value":"(function execute() {\n    return JSON.stringify({\n        \"$schema\": \"http://adaptivecards.io/schemas/adaptive-card.json\",\n        \"type\": \"AdaptiveCard\",\n        \"version\": \"1.2\",\n        \"body\": [{\n                \"type\": \"Container\",\n                \"items\": [{\n                        \"type\": \"TextBlock\",\n                        \"text\": \"${companyName}\",\n                        \"size\": \"Medium\",\n                        \"wrap\": true\n                    },\n                    {\n                        \"type\": \"TextBlock\",\n                        \"text\": \"${primaryExchange}: ${symbol}\",\n                        \"isSubtle\": true,\n                        \"spacing\": \"None\",\n                        \"wrap\": true\n                    },\n                    {\n                        \"type\": \"TextBlock\",\n                        \"text\": \"{{DATE(${formatEpoch(latestUpdate, 'yyyy-MM-ddTHH:mm:ssZ')}, SHORT)}} {{TIME(${formatEpoch(latestUpdate, 'yyyy-MM-ddTHH:mm:ssZ')})}}\",\n                        \"wrap\": true\n                    }\n                ]\n            },\n            {\n                \"type\": \"Container\",\n                \"spacing\": \"None\",\n                \"items\": [{\n                    \"type\": \"ColumnSet\",\n                    \"columns\": [{\n                            \"type\": \"Column\",\n                            \"width\": \"stretch\",\n                            \"items\": [{\n                                    \"type\": \"TextBlock\",\n                                    \"text\": \"${formatNumber(latestPrice, 2)} \",\n                                    \"size\": \"ExtraLarge\",\n                                    \"wrap\": true\n                                },\n                                {\n                                    \"type\": \"TextBlock\",\n                                    \"text\": \"${if(change &gt;= 0, '▲', '▼')} ${formatNumber(change,2)} USD (${formatNumber(changePercent * 100, 2)}%)\",\n                                    \"color\": \"${if(change &gt;= 0, 'good', 'attention')}\",\n                                    \"spacing\": \"None\",\n                                    \"wrap\": true\n                                }\n                            ]\n                        },\n                        {\n                            \"type\": \"Column\",\n                            \"width\": \"auto\",\n                            \"items\": [{\n                                \"type\": \"FactSet\",\n                                \"facts\": [{\n                                        \"title\": \"Open\",\n                                        \"value\": \"${open} \"\n                                    },\n                                    {\n                                        \"title\": \"High\",\n                                        \"value\": \"${high} \"\n                                    },\n                                    {\n                                        \"title\": \"Low\",\n                                        \"value\": \"${low} \"\n                                    }\n                                ]\n                            }]\n                        }\n                    ]\n                }]\n            }\n        ]\n    });\n})();"}}],"return-value-mappings":[],"id":"51092eefdac644dd81f1ecbea1d4a9e6","name":"Stock details","goal_id":"primary"}],"edges":[{"type":"Edge","source_node_id":"38dbb27919e849fdb70045629f715208","target_node_id":"ec1a4d5391f44efdb11b23904c94665e","id":"120909f0afa04009926be8717aef402d"},{"type":"Edge","source_node_id":"ec1a4d5391f44efdb11b23904c94665e","target_node_id":"b6bae3ac06d243da852ffd18385349e8","id":"1f05248a281f45478c98d1c1bccde686"},{"type":"Edge","source_node_id":"b6bae3ac06d243da852ffd18385349e8","target_node_id":"fd8624bab24249a38041af56a061060d","branch_id":"e410b216ba864210a10322f44d6b7f48","id":"1453ccf4e34b4f5b94d7511257cd1c4e","name":"e410b216ba864210a10322f44d6b7f48"},{"type":"Edge","source_node_id":"fd8624bab24249a38041af56a061060d","target_node_id":"6d95b082b8a14b5bb882d4e5c0763b41","id":"5df4a1ac4ca34bed8ebd1b287ae5d0b7"},{"type":"Edge","source_node_id":"b6bae3ac06d243da852ffd18385349e8","target_node_id":"d5264536eb0c4924b5e2ea0f1503e108","branch_id":"3fa493f4715d49219d6ce9efa3d7a634","id":"3df34629b5fa47cabad4a4e7082cc641","name":"3fa493f4715d49219d6ce9efa3d7a634"},{"type":"Edge","source_node_id":"d5264536eb0c4924b5e2ea0f1503e108","target_node_id":"6d95b082b8a14b5bb882d4e5c0763b41","id":"b4106837a9ab425db3b2e16838e0f475"},{"type":"Edge","source_node_id":"b6bae3ac06d243da852ffd18385349e8","target_node_id":"51092eefdac644dd81f1ecbea1d4a9e6","branch_id":"d01a6e93b0b342e6b18f3404c06ee374","id":"4e3bef7630d04eccabb2834afd18a81e","name":"d01a6e93b0b342e6b18f3404c06ee374"},{"type":"Edge","source_node_id":"51092eefdac644dd81f1ecbea1d4a9e6","target_node_id":"6d95b082b8a14b5bb882d4e5c0763b41","id":"ef8dac6acef24975a05f11819f791b35"}],"id":"primary"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text"},{"type":"Choice","choices":[{"name":"My flight","element":"flight"},{"name":"ServiceNow stock price","element":"stock"},{"name":"The weather","element":"weather"}],"id":"680dabfeb9394d35b48832c60f6ceb55","name":"card_selection","formatType":"text"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"13dcacaf1be4e8107efcda09dc4bcbc1","domain":"global","topic_type":"STANDARD","channels":[],"id":"f10a4bc81bbc2010b7dd96c8274bcb65","name":"_PRVW__e185978c4c3c2010bccc281de621725d","key_phrases":["adaptive card","weather","stock","flight"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"","library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>f10a4bc81bbc2010b7dd96c8274bcb65</design_topic_id>
        <name>_PRVW__e185978c4c3c2010bccc281de621725d</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>dylan.lindgren</sys_created_by>
        <sys_created_on>2020-11-26 01:40:46</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>2d85978c1b3c20107efcda09dc4bcb60</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="Adaptive Cards for Virtual Agent" source="x_snc_va_ac">13dcacaf1be4e8107efcda09dc4bcbc1</sys_package>
        <sys_policy/>
        <sys_scope display_value="Adaptive Cards for Virtual Agent">13dcacaf1be4e8107efcda09dc4bcbc1</sys_scope>
        <sys_update_name>sys_cb_design_topic_2d85978c1b3c20107efcda09dc4bcb60</sys_update_name>
        <sys_updated_by>dylan.lindgren</sys_updated_by>
        <sys_updated_on>2020-11-26 01:40:46</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
